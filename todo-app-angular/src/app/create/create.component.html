
<div class="container" >
	<div class="center">
		<p id="message">{{message}}</p>
	  </div>
	<div class="row">
		<div class="col"></div>
		<div class="col">
			
			<form class='card p-3 bg-light' (ngSubmit) = "onSubmit()"  [formGroup]="todoForm">
			
				<input type="hidden" id= "id" name="id" formControlName = "id" [(ngModel)]="todo.id"/>
				<h5 class="card-header" style="background-color: #18d2f8;">New ToDo</h5>
				<div class="mb-3 form-group required">
					<label for="taskName" class="control-label">Name</label>
					<input type="text" class="form-control"  formControlName = "taskName" id="taskName" name="taskName"  [(ngModel)]="todo.taskName"
					[ngClass]="{ 'is-invalid': submitted && formControls.taskName.errors }"/>
					<div *ngIf="submitted && formControls.taskName.errors" class="invalid-feedback">
                        <div *ngIf="formControls.taskName.errors.required" id="taskName.errors">Please enter task Name.</div>
                    </div>
				</div>
				<div class="mb-3">
					<label for="taskDesc" class="form-label">Description</label>
					<input type="text" class="form-control" id="description"  formControlName = "description" name="description"  [(ngModel)]="todo.description">
				</div>
				<div class="mb-3 form-group required">
					<label for="taskDueDate" class="control-label">Due Date</label>
					<div class="form-group">
						<div class="input-group" id="datepicker">
							<input type="text" class="form-control"   formControlName = "dueDate" id="dueDate" name="dueDate" [(ngModel)]="todo.dueDate"
							[ngClass]="{ 'is-invalid': submitted && formControls.dueDate.errors }"  />
							<span class="input-group-append"> <span class="input-group-text bg-white d-block"> <i class="fa fa-calendar"></i>
							</span>
							</span>
							<div *ngIf="submitted && formControls.dueDate.errors" class="invalid-feedback">
								<div *ngIf="formControls.dueDate.errors.required" id="dueDate.errors">Please Enter task due date</div>
							</div>
						</div>
					
					</div>
				</div>
				<div class="mb-3">
				<label for="Status" class="form-label">Status</label>
                
                
				<select class="form-control"  id="status" formControlName = "status" name="status"  [(ngModel)]="todo.status">
						<option >Please select</option>
                        <option *ngFor="let status of statuses" [value]="status">{{status}}</option>
                </select> 
				</div>
				<div class="mb-3">
					<p>
						 
						<button type="submit" id="submit"> Submit</button>
						<input type="reset" value="Reset" />
				</div>
			</form>
		</div>
		<div class="col"></div>
	</div>
</div>
<div class="container" >
    <div class="row">

        <div class="col">
            <div class=" class='card p-4 bg-light'">

                <h5 class="card-header" id="myTodoListHeader" style="background-color: #18d2f8;">My Todo List</h5>
                <div class="tablecontainer">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Task</th>
                                <th>Description</th>
                                <th>Due Date</th>
                                <th>Status</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let p of toDos">
                                <td><span ng-bind="p.id" name="todoId">{{p.id}}</span></td>
                                <td><span ng-bind="p.taskName"></span>{{p.taskName}}</td>
                                <td><span ng-bind="p.description"></span>{{p.description}}</td>
                                <td><span ng-bind="p.dueDate"></span>{{p.dueDate}}</td>
                                <td><span ng-bind="p.status"></span>{{p.status}}</td>
                                <td>
                               <button type="button"  class="btn btn-success custom-width"><a href = 'edit/{{p.id}}'>Edit</a></button> 
                                <button name="removeButton" type="button" (click)="onRemove(p.id)" class="btn btn-danger custom-width">Remove</button>
                                </td> 
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>
</div>
